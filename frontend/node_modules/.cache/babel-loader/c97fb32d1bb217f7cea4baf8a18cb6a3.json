{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport commentService from './commentService';\nconst initialState = {\n  comments: [],\n  isError: false,\n  isSuccess: false,\n  isLoading: false,\n  message: ''\n};\nexport const getComment = createAsyncThunk('api/comments', async (id, thunkAPI) => {\n  try {\n    return await commentService.getComments(id);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const postComment = createAsyncThunk('api/comments/id', async (body, thunkAPI) => {\n  try {\n    return await commentService.postComment(body);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const commentSlice = createSlice({\n  name: 'comments',\n  initialState,\n  reducers: {\n    reset: state => initialState\n  },\n  extraReducers: builder => {\n    builder.addCase(postComment.pending, state => {\n      state.isLoading = true;\n    }).addCase(postComment.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    }).addCase(postComment.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.comments.push(action.payload);\n    }).addCase(getComment.pending, state => {\n      state.isLoading = true;\n    }).addCase(getComment.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    }).addCase(getComment.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.comments = action.payload;\n    });\n  }\n});\nexport const {\n  reset\n} = commentSlice.actions;\nexport default commentSlice.reducer;","map":{"version":3,"sources":["/home/young-alpha/Documents/GitHub/saadatu-backend/frontend/src/features/comments/commentSlice.ts"],"names":["createAsyncThunk","createSlice","commentService","initialState","comments","isError","isSuccess","isLoading","message","getComment","id","thunkAPI","getComments","error","response","data","toString","rejectWithValue","postComment","body","commentSlice","name","reducers","reset","state","extraReducers","builder","addCase","pending","rejected","action","payload","fulfilled","push","actions","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { CommentState } from '../../utils/interface'\nimport commentService from './commentService'\n\nconst initialState: CommentState = {\n    comments: [],\n    isError: false,\n    isSuccess: false,\n    isLoading: false,\n    message: ''\n}\n\nexport const getComment = createAsyncThunk('api/comments', async(id: any, thunkAPI) => {\n  try {\n      return await commentService.getComments(id)\n  } catch (error: any) {\n    const message = (error.response && error.response.data && error.response.data.message) || error.message || error.toString()\n    return thunkAPI.rejectWithValue(message)\n  }  \n})\n\nexport const postComment = createAsyncThunk('api/comments/id', async(body: any, thunkAPI) => {\n    try {\n        return await commentService.postComment(body)\n    } catch (error: any) {\n      const message = (error.response && error.response.data && error.response.data.message) || error.message || error.toString()\n      return thunkAPI.rejectWithValue(message)\n    }  \n  })\n\nexport const commentSlice = createSlice({\n    name: 'comments',\n    initialState,\n    reducers: {\n        reset: (state) => initialState\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(postComment.pending, (state) => {\n                state.isLoading = true\n            })\n            .addCase(postComment.rejected, (state, action) => {\n                state.isLoading = false\n                state.isError = true\n                state.message = action.payload\n            })\n            .addCase(postComment.fulfilled, (state, action) => {\n                state.isLoading = false\n                state.isSuccess = true\n                state.comments.push(action.payload)\n            })\n            .addCase(getComment.pending, (state) => {\n                state.isLoading = true\n            })\n            .addCase(getComment.rejected, (state, action) => {\n                state.isLoading = false\n                state.isError = true\n                state.message = action.payload\n            })\n            .addCase(getComment.fulfilled, (state, action) => {\n                state.isLoading = false\n                state.isSuccess = true\n                state.comments = action.payload\n            })\n    }\n})\n\nexport const { reset } = commentSlice.actions\nexport default commentSlice.reducer"]},"metadata":{},"sourceType":"module"}